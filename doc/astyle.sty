\ProvidesPackage{astyle}
\usepackage{fontspec}    % Specify otf or ttf font (required by `polyglossia')

% Support TeX-ish Ligatures, e.g. --.
\defaultfontfeatures{Mapping=tex-text}
% Use the CMU font (equivalent to the default TeX font) that supports both
% english and greek encoding.
\setmainfont[
    Extension      = .otf,
    UprightFont    = *rm, % Roman
    BoldFont       = *bx, % Bold Extended Roman
    ItalicFont     = *ti, % Italic; alt. ci for Classical Italic
    BoldItalicFont = *bi  % Bold Extended Italic; alt. bl for Slanted
]{cmun}

\setmonofont[
    Extension      = .otf,
    UprightFont    = *tt, % Regular
    BoldFont       = *tb, % Bold
    ItalicFont     = *it, % Italic; alt. st for Oblique
    BoldItalicFont = *tx  % Bold Italic
]{cmun}

\setsansfont[
    Extension      = .otf,
    UprightFont    = *ss,
    BoldFont       = *sx, % Bold Extended
    ItalicFont     = *si, % Oblique; alt. sl for Roman Slanted
    BoldItalicFont = *so  % Bold Extended Oblique
]{cmun}

\usepackage{amsmath}
\usepackage{tabu}
\tabulinesep = ^0.4em     % Default row spacing for all tables

\usepackage{floatrow}     % Default settings for floats
\floatsetup{
    style=plaintop,
    font=footnotesize,
    justification=raggedright
}

\usepackage{csquotes} % Localized quotes
\usepackage{polyglossia}
\setdefaultlanguage{greek}
\setotherlanguage{english}
\usepackage{makeidx}  % Ability to create index
\makeindex

\usepackage{graphicx} % Include images from external files
\graphicspath{ {img/} }

\usepackage{subcaption}

\usepackage[
    backend        = biber,
    citestyle      = authoryear,
    bibstyle       = authoryear,
    natbib         = true,
    hyperref       = true
]{biblatex}

\addbibresource{bib/sample.bib} % Suffix is required

\usepackage{setspace} % Change line-height
\setstretch{1.3}

\usepackage{fancyhdr} % Allows customization of header and footer

% Use a different layout for headers and footers than the default in `headings'.
% Ref: fancyhdr doc, chapters 6-9.
\pagestyle{fancy}
% The redifinition must be placed right after first applying the fancy layout.
\fancyhf{}                % Clear any default fancy header/footer fields
\fancyhf[HLE]{\thepage}   % Display page number externally on the header
\fancyhf[HRO]{\thepage}
\fancyhf[HRE]{\leftmark}  % Display chapter on HR on even pages
\fancyhf[HLO]{\rightmark} % Display section on HL on odd pages

% Alter how chapter info displays (CHAPTER X - desciption).
\renewcommand{\chaptermark}[1]{%
    \markboth{\MakeUppercase\chaptername\ \thechapter\ -\ #1}{}
}
% Alter how section info displays (X.Y description).
\renewcommand{\sectionmark}[1]{%
    \markright{\thesection{}\hspace{1em}#1}{}
}

% Commands like \chapter use \thispagestyle{plain}, so plain must be redefined
% if numbering and the, otherwise, default heade border is to be removed.
\fancypagestyle{plain}{%
    \fancyhf{}                         % Clear defaults
    \renewcommand{\headrulewidth}{0pt} % Remove header border
}

% Deal with the not-so-empty headers on blank pages created due to `openright'.
% Redefine the \cleardoublepage command so as to apply the empty pagestyle
% before creating a new blank page.
% Ref: fancyhdr doc, chapter 15.
\makeatletter%          Make @ available for use as a letter
\def\cleardoublepage{%
    \clearpage%         Apply any remaining floats
    \if@twoside%        In case the `twoside' option is in use, but the page is
        \ifodd%         already recto, proceed as normal.
            \c@page%
        \else%          In case of verso, the current page must be left empty
            \hbox{}%    Create an empty box and apply the empty pagestyle
            \thispagestyle{empty}%
            \newpage%
            \if@twocolumn% Create 'two' empty pages if columns are used
                \hbox{}%
                \newpage%
            \fi%
        \fi%
    \fi%
}\makeatother

% This should be the LAST package to include, because it redefines many
% other commands.
\usepackage[unicode]{hyperref} % Enable hyperlinks in citations etc.

